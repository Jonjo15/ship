(()=>{"use strict";const e=()=>{const e=document.querySelector(".playerGrid");let t=document.querySelectorAll(".playerGrid div"),r=document.querySelectorAll(".cpuGrid div");return{playerGrid:e,cpuGrid:document.querySelector(".cpuGrid"),startBtn:document.querySelector("#startbtn"),playerSquares:t,aiSquares:r}},t=e=>{const t=new Array(e).fill(!1);return{getLength:()=>e,hit:e=>(t[e]=!0,t),isSunk:()=>t.every((e=>e)),getHitArray:()=>t}},r=(e=!1)=>{let r,l,a,i=((e=!1)=>{const r=[];let l=0;for(let e=1;e<6;e++)r.push(t(e));let a=new Array(100).fill(!1);const i=(e,t,r=!0)=>{let l,i=e.getLength();if(r){let e;l=n(i);for(let r=0;r<i;r++)e=l+r+"-"+t+r,a[l+r]=e,e=""}else{let e;l=o(i);for(let r=0;r<i;r++){let i=10*r;e=l+i+"-"+t+r,a[l+i]=e,e=""}}},n=e=>{let t=Math.floor(100*Math.random()),r=[];if(t%10+e<=10){for(let l=0;l<e;l++)r.push(a[t+l]);return r.every((e=>!1===e))?t:n(e)}return n(e)},o=e=>{let t=10*(e-1),r=Math.floor(100*Math.random()-t),l=[];for(let t=0;t<e;t++){let e=10*t;l.push(a[r+e])}return l.every((e=>!1===e))?r:o(e)};return{boardArray:a,setIsHorizontal:e=>e,ships:r,receiveAttack:e=>{if("miss"===a[e]||"hit"===a[e])return 0;if(!1===a[e])return a[e]="miss",l+=1,!1;if("string"==typeof a[e]){let t=parseInt(a[e].slice(-1)),l=parseInt(a[e].slice(-2,-1));return r[l].hit(t),a[e]="hit",!0}},getMissedCount:()=>l,allShipsSunk:()=>r.every((e=>e.isSunk())),placeShipsRandomly:i,aiPlaceShips:()=>{const e=[!0,!1];r.forEach(((t,r)=>{let l=Math.floor(Math.random()*e.length);i(t,r,e[l])}))}}})(e);r=!e;const n=e=>{let t,r=Math.floor(100*Math.random());return t=e.receiveAttack(r),0===t?n(e):(a=t,l=r,!0)};return{isAi:()=>e,getTurn:()=>r,setTurn:e=>r=e,gameboard:i,computerMakeRandomPlay:n,getLastAiAttempt:()=>l,getLastResult:()=>a}};r(),r(!0);let l=e();function a(e){for(let t=0;t<100;t++){let r=document.createElement("div");r.classList.add("gridDiv"),r.dataset.id=t,e.appendChild(r)}}a(l.playerGrid),a(l.cpuGrid),e().aiSquares.forEach((e=>{e.addEventListener("click",(e=>{console.log(e.target.dataset.id)}))}))})();